{"componentChunkName":"component---src-templates-blog-post-js","path":"/27/","result":{"data":{"site":{"siteMetadata":{"author":"weijiew","homeCity":"China"}},"markdownRemark":{"html":"<h1>环境</h1>\n<p>WSL + Hadoop </p>\n<ol>\n<li>需要单独创建 Hadoop 用户。</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> -m hadoop -s /bin/bash  <span class=\"token comment\">#创建hadoop用户，并使用/bin/bash作为shell</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> hadoop                   <span class=\"token comment\">#为hadoop用户设置密码</span>\n<span class=\"token function\">sudo</span> adduser hadoop <span class=\"token function\">sudo</span>             <span class=\"token comment\">#为hadoop用户增加管理员权限</span>\n<span class=\"token function\">su</span> - hadoop                          <span class=\"token comment\">#切换当前用户为用户hadoop</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update                  <span class=\"token comment\">#更新hadoop用户</span></code></pre></div>\n<h2>2. 配置 Java 环境</h2>\n<p>首先安装 JDK ，需要申请账户，<a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\">jdk-8u261-linux-x64.tar.gz</a>  。</p>\n<p>创建文件夹，用于存放 JDK </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> <span class=\"token comment\"># 切换到超级用户， hadoop 没有权限创建文件夹 </span>\n<span class=\"token function\">mkdir</span> /usr/lib/jvm</code></pre></div>\n<p>解压到 /usr/lib/jvm 目录下，注意中间的路径需要设置成自己的文件所在位置。我的所在 F 盘中。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo tar zxvf /mnt/f/jdk-8u261-linux-x64.tar.gz -C /usr/lib/jvm</code></pre></div>\n<p>将文件 jdk1.8.0_261 重命名为 java 。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /usr/lib/jvm\nmv  jdk1.8.0_261 java          </code></pre></div>\n<p>切换到 hadoop 用户下，修改配置文件。添加 Java 环境变量。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">su hadoop\nvim ~/.bashrc</code></pre></div>\n<p>在其中添加内容：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Java Environment\nexport JAVA_HOME=/usr/lib/jvm/java\nexport JRE_HOME=${JAVA_HOME}/jre\nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\nexport PATH=${JAVA_HOME}/bin:$PATH</code></pre></div>\n<p>使得环境变量生效，并判断 Java 环境是否配置成功。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">source ~/.bashrc \njava -version </code></pre></div>\n<p>成功后会出现如下内容：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">hadoop@LAPTOP-PJ3DJQFQ:~$ java -version\njava version <span class=\"token string\">\"1.8.0_261\"</span>\nJava<span class=\"token punctuation\">(</span>TM<span class=\"token punctuation\">)</span> SE Runtime Environment <span class=\"token punctuation\">(</span>build <span class=\"token number\">1.8</span>.0_261-b12<span class=\"token punctuation\">)</span>\nJava HotSpot<span class=\"token punctuation\">(</span>TM<span class=\"token punctuation\">)</span> <span class=\"token number\">64</span>-Bit Server VM <span class=\"token punctuation\">(</span>build <span class=\"token number\">25.261</span>-b12, mixed mode<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>下载 Hadoop</h2>\n<p>下载地址：<a href=\"https://archive.apache.org/dist/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz\">hadoop-3.2.1.tar.gz</a></p>\n<p>将 Hadoop 解压到 /usr/local 目录下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo tar -zxvf  /mnt/f/dowload/hadoop-3.2.1.tar.gz -C /usr/local</code></pre></div>\n<p>修改文件命名，并修改该文件的权限。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo mv  hadoop-3.2.1  hadoop\nsudo chown -R hadoop ./hadoop</code></pre></div>\n<p>添加环境变量。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vim ~/.bashrc</code></pre></div>\n<p>添加内容如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#Hadoop Environment\nexport HADOOP_HOME=/usr/local/hadoop\nexport CLASSPATH=$($HADOOP_HOME/bin/hadoop classpath):$CLASSPATH\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</code></pre></div>\n<p>使环境变量生效并判断是否成功。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~./bashrc\nhadoop version</code></pre></div>\n<p>出现如下内容表示配置成功。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">hadoop@LAPTOP-PJ3DJQFQ:~$ hadoop version\nHadoop <span class=\"token number\">3.2</span>.1\nSource code repository https://gitbox.apache.org/repos/asf/hadoop.git -r b3cbbb467e22ea829b3808f4b7b01d07e0bf3842\nCompiled by rohithsharmaks on <span class=\"token number\">2019</span>-09-10T15:56Z\nCompiled with protoc <span class=\"token number\">2.5</span>.0\nFrom <span class=\"token builtin class-name\">source</span> with checksum 776eaf9eee9c0ffc370bcbc1888737\nThis <span class=\"token builtin class-name\">command</span> was run using /usr/local/hadoop/share/hadoop/common/hadoop-common-3.2.1.jar</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vim core-site.xml\nvim hdfs-site.xml</code></pre></div>","excerpt":"环境 WSL + Hadoop  需要单独创建 Hadoop 用户。 2. 配置 Java 环境 首先安装 JDK ，需要申请账户，jdk-8u261-linux-x64.tar.gz  。 创建文件夹，用于存放 JDK  解压到 /usr/lib/jvm…","fields":{"tagSlugs":["/tags/大数据/"]},"frontmatter":{"title":"Hadoop install","tags":["大数据"],"date":"September 14, 2020"}}},"pageContext":{"slug":"/27/"}}}