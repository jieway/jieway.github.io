{"componentChunkName":"component---src-templates-blog-post-js","path":"/8/","result":{"data":{"site":{"siteMetadata":{"author":"weijiew","homeCity":"China"}},"markdownRemark":{"html":"<h1>起源</h1>\n<p>在创建文章的时候我发现比较麻烦，首先创建一个文件夹，这个文件夹名字对应了 url 。然后再创建一个 md 文件。</p>\n<p>除此之外每一个 md 文件的头部还需要写关于文章的基本信息。类似于如下这种信息，每次都要写一遍非常繁琐，而且 gatsby 没有类似于 hexo new 文章的命令。于是我尝试用 python 写了一个脚本。 </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: 快速创建文章\ndate: &quot;2020-06-01&quot;\ndraft: false\ntags:\n- summary\n---</code></pre></div>\n<h1>内容</h1>\n<p>首先根据我的文件结构，需要首先设置目录名，如果你的方式不一样的话需要灵活改变，仅供参考。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 设置目录名</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getFolderName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    today <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    path <span class=\"token operator\">=</span> <span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入路径名：\"</span><span class=\"token punctuation\">)</span>\n    filename <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>today<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"---\"</span> <span class=\"token operator\">+</span> path\n    <span class=\"token keyword\">return</span> filename</code></pre></div>\n<p>然后根据路径名创建文件夹</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 创建目录并设置目录名</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">createFloder</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 创建文件夹</span>\n    p <span class=\"token operator\">=</span> Path<span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># 如果文件夹已经存在就抛出异常</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        p<span class=\"token punctuation\">.</span>mkdir<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span></code></pre></div>\n<p>创建文件夹再创建 md 文件，这个我采取了默认的名称。也就是 index.md 然后在将头部的内容写入文件中即可。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 设置输入内容</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    content <span class=\"token operator\">=</span> <span class=\"token string\">\"---\\ntitle: \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"date: \"</span>  <span class=\"token operator\">+</span><span class=\"token string\">\"\\\"\"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\\"\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"draft: false\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"tags:\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"- \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"---\\n\"</span>\n    <span class=\"token keyword\">return</span> content</code></pre></div>\n<p>执行并写入：</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    folderName <span class=\"token operator\">=</span> getFolderName<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    createFloder<span class=\"token punctuation\">(</span>folderName<span class=\"token punctuation\">)</span>\n    con <span class=\"token operator\">=</span> getContent<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>folderName<span class=\"token operator\">+</span><span class=\"token string\">\"\\\\index.md\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n        f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">)</span></code></pre></div>\n<h1>总结</h1>\n<p>我针对自己的路径进行了适当的修改。应该是可以写成插件的。</p>\n<p>我的python 环境是 3.6 ，并且为了方便使用，我用 <code class=\"language-text\">pyinstaller -F CreateMd.py</code> 将代码打包了 exe 可执行文件。exe 文件执行起来有点慢，不如 py 文件迅速，有点疑惑。</p>\n<p>虽然很简单，完整代码以及可执行文件都放在了 <a href=\"https://github.com/weijiew/createMd\">github</a> ，权当练手啦。学以致用。</p>","excerpt":"起源 在创建文章的时候我发现比较麻烦，首先创建一个文件夹，这个文件夹名字对应了 url 。然后再创建一个 md 文件。 除此之外每一个 md 文件的头部还需要写关于文章的基本信息。类似于如下这种信息，每次都要写一遍非常繁琐，而且 gatsby 没有类似于 hexo new…","fields":{"tagSlugs":["/tags/summary/"]},"frontmatter":{"title":"更优雅创建文章","tags":["summary"],"date":"June 01, 2020"}}},"pageContext":{"slug":"/8/"}}}